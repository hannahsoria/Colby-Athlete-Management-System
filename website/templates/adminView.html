<!-- HTML adminview creates the front end for this page
 2022 revised in 2026 -->

{% extends "base.html" %}
{% block title %} Home {% endblock %}
{% block content %}
   
<!-- creates title -->
<div class="main-panel">
  <div class="content-wrapper">
    <div class="row">
      <div class="col-12 grid-margin stretch-card">
        <div class="card corona-gradient-card">
          <div class="card-body py-0 px-0 px-sm-3">
            <div class="row align-items-center">
              <div class="col-4 col-sm-3 col-xl-2">
              </div>
              <div class="col-5 col-sm-7 col-xl-8 p-0 text-center">
                <h2 class="mb-1 mb-sm-0">Colby College Athlete Management System</h2>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

   <!-- entire team stats -->
	<div class="content-wrapper">
    <div class="row">
        <div class="col-lg-12 grid-margin stretch-card">
          <div class="card">
            <div class="card-body">
              <h4 class="card-title">All Team Averages</h4>
              <div id = "chart1"></div>
           
              <!--plotly CDN -->
              <div id="chart1" style="width:100%; height:50px;"></div>

              <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
              <script>
                const fig = {{ graphJSON | tojson }};

                Plotly.newPlot(
                  "chart1",
                  fig.data,
                  fig.layout,
                  { responsive: true }
                );
              </script>

            </div>   
          </div>
        </div>
    </div>
	</div>

     <!-- breakdown of teams -->
    <div class="row ">
      <div class="col-12 grid-margin">
        <div class="card">
          <div class="card-body">
            <h4 class="card-title">Breakdown of Teams</h4>
            <div style="height:300px; overflow-y: scroll;">
              <table class="table">
                <thead>
                  <tr>
                    <th>  <h6 class="font-weight-bold mb-0">Team Name</h6></th>
                    <th>  <h6 class="font-weight-bold mb-0">Sleep</h6></th>
                    <th>  <h6 class="font-weight-bold mb-0">Quality</h6></th>
                    <th>  <h6 class="font-weight-bold mb-0">Readiness</h6></th>
                    <th>  <h6 class="font-weight-bold mb-0">Calorie Intake</h6></th>
                  </tr>
                </thead>
                <tbody>
                {% for team in team_stats %}
                  <tr>
                    <td>
                      <a href="{{ url_for('views.teamView', team_name=team['Team']) }}">
                        {{ team['Team'] }}
                      </a>
                    </td>
                    <td>{{ team['Hours'] }}</td>
                    <td>{{ team['Quality'] }}</td>
                    <td>{{ team['readiness'] }}</td>
                    <td>{{ team['Calorie Intake'] }}</td>
                  </tr>
                {% endfor %}
                </tbody>
	</table>
	</div>
	</div>
	</div>
	</div>
	</div>

{% endblock %}